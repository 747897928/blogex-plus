(function(h,e,l){function t(a,b){var c=u({},v,b||{},w(a));c.imageSelector&&(c.image=(e.querySelectorAll||h.jQuery||h.Zepto||n).call(e,c.imageSelector).map(function(a){return a.src}).join("||"));x(a,"share-component social-share");y(a,c);z(a,c);a.initialized=!0}function y(a,b){var c=A(b),d="prepend"==b.mode;g(d?c.reverse():c,function(c){var e=B(c,b),f=b.initialized?m(a,"icon-"+c):p('\x3ca class\x3d"social-share-icon icon-'+c+'"\x3e\x3c/a\x3e');if(!f.length)return!0;f[0].href=e;"wechat"===c?f[0].tabindex=-1:f[0].target="_blank";b.initialized||(d?a.insertBefore(f[0],a.firstChild):a.appendChild(f[0]))})}function z(a,b){var c=m(a,"icon-wechat","a");if(0===c.length)return!1;var d=p('\x3cdiv class\x3d"wechat-qrcode"\x3e\x3ch4\x3e'+b.wechatQrcodeTitle+'\x3c/h4\x3e\x3cdiv class\x3d"qrcode"\x3e\x3c/div\x3e\x3cdiv class\x3d"help"\x3e'+b.wechatQrcodeHelper+"\x3c/div\x3e\x3c/div\x3e"),f=m(d[0],"qrcode","div");new QRCode(f[0],{text:b.url,width:b.wechatQrcodeSize,height:b.wechatQrcodeSize});c[0].appendChild(d[0])}function A(a){a.mobileSites.length||(a.mobileSites=a.sites);var b=(C?a.mobileSites:a.sites).slice(0);a=a.disabled;"string"==typeof b&&(b=b.split(/\s*,\s*/));"string"==typeof a&&(a=a.split(/\s*,\s*/));D&&a.push("wechat");a.length&&g(a,function(a){b.splice(E(a,b),1)});return b}function B(a,b){b.summary||(b.summary=b.description);return F[a].replace(/\{\{(\w)(\w*)\}\}/g,function(c,d,f){c=a+d+f.toLowerCase();f=(d+f).toLowerCase();return encodeURIComponent((b[c]===l?b[f]:b[c])||"")})}function n(a){var b=[];g(a.split(/\s*,\s*/),function(c){c=c.match(/([#.])(\w+)/);if(null===c)throw Error("Supports only simple single #ID or .CLASS selector.");c[1]&&(c=e.getElementById(c[2]))&&b.push(c);b=b.concat(m(a))});return b}function x(a,b){if(b&&"string"===typeof b){var c=(a.className+" "+b).split(/\s+/),d=" ";g(c,function(a){0>d.indexOf(" "+a+" ")&&(d+=a+" ")});a.className=d.slice(1,-1)}}function k(a){return(e.getElementsByName(a)[0]||0).content}function m(a,b,c){if(a.getElementsByClassName)return a.getElementsByClassName(b);var d=[];a=a.getElementsByTagName(c||"*");b=" "+b+" ";g(a,function(a){0<=(" "+(a.className||"")+" ").indexOf(b)&&d.push(a)});return d}function p(a){var b=e.createElement("div");b.innerHTML=a;return b.childNodes}function u(){var a=arguments;if(q)return q.apply(null,a);var b={};g(a,function(a){g(a,function(a,c){b[c]=a})});return a[0]=b}function w(a){if(a.dataset)return JSON.parse(JSON.stringify(a.dataset));var b={};return a.hasAttributes()?(g(a.attributes,function(a){var c=a.name;if(0!==c.indexOf("data-"))return!0;c=c.replace(/^data-/i,"").replace(/-(\w)/g,function(a,b){return b.toUpperCase()});b[c]=a.value}),b):{}}function E(a,b,c){var d;if(b){if(r)return r.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1}function g(a,b){var c=a.length;if(c===l)for(var d in a){if(a.hasOwnProperty(d)&&!1===b.call(a[d],a[d],d))break}else for(d=0;d<c&&!1!==b.call(a[d],a[d],d);d++);}var r=Array.prototype.indexOf,q=Object.assign,D=/MicroMessenger/i.test(navigator.userAgent),C=768>=e.documentElement.clientWidth,G=(e.images[0]||0).src||"",H=k("site")||k("Site")||e.title,I=k("title")||k("Title")||e.title,J=k("description")||k("Description")||"",v={url:location.href,origin:location.origin,source:H,title:I,description:J,image:G,imageSelector:l,weiboKey:"",wechatQrcodeTitle:"\u5fae\u4fe1\u626b\u4e00\u626b\uff1a\u5206\u4eab",wechatQrcodeHelper:"\x3cp\x3e\u5fae\u4fe1\u91cc\u70b9\u201c\u53d1\u73b0\u201d\uff0c\u626b\u4e00\u4e0b\x3c/p\x3e",wechatQrcodeSize:100,sites:["weibo","qq","douban","qzone","linkedin"],mobileSites:[],disabled:[],initialized:!1},F={qq:'https://connect.qq.com/widget/shareqq/index.html?url\x3d{{URL}}\x26title\x3d{{TITLE}}\x26source\x3d{{SOURCE}}\x26desc\x3d{{DESCRIPTION}}\x26pics\x3d{{IMAGE}}\x26summary\x3d"{{SUMMARY}}"',qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url\x3d{{URL}}\x26title\x3d{{TITLE}}\x26desc\x3d{{DESCRIPTION}}\x26summary\x3d{{SUMMARY}}\x26site\x3d{{SOURCE}}",weibo:"https://service.weibo.com/share/share.php?url\x3d{{URL}}\x26title\x3d{{TITLE}}\x26pic\x3d{{IMAGE}}\x26appkey\x3d{{WEIBOKEY}}",douban:"http://shuo.douban.com/!service/share?href\x3d{{URL}}\x26name\x3d{{TITLE}}\x26text\x3d{{DESCRIPTION}}\x26image\x3d{{IMAGE}}\x26starid\x3d0\x26aid\x3d0\x26style\x3d11",linkedin:"http://www.linkedin.com/shareArticle?mini\x3dtrue\x26ro\x3dtrue\x26title\x3d{{TITLE}}\x26url\x3d{{URL}}\x26summary\x3d{{SUMMARY}}\x26source\x3d{{SOURCE}}\x26armin\x3darmin"};h.socialShare=function(a,b){a="string"===typeof a?(e.querySelectorAll||h.jQuery||h.Zepto||n).call(e,a):a;a.length===l&&(a=[a]);g(a,function(a){a.initialized||t(a,b)})};(function(a){var b=e.addEventListener?"":"on";~e.readyState.indexOf("m")?a():"load DOMContentLoaded readystatechange".replace(/\w+/g,function(c,d){(d?e:h)[b?"attachEvent":"addEventListener"](b+c,function(){a&&(6>d||~e.readyState.indexOf("m"))&&(a(),a=0)},!1)})})(function(){socialShare(".social-share, .share-component")})})(window,document);